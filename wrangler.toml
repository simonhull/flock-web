name = "flock-web"
compatibility_date = "2025-12-01"
compatibility_flags = [ "nodejs_compat" ]

# Local development database
# Uses --local flag to avoid touching any Cloudflare services
[[d1_databases]]
binding = "DB"
database_name = "flock-local"
database_id = "local"

# R2 storage for uploads (avatars, etc.)
# Local dev uses Miniflare's R2 simulator automatically
[[r2_buckets]]
binding = "STORAGE"
bucket_name = "flock-uploads"
preview_bucket_name = "flock-uploads-dev"
